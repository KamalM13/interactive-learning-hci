"""import cv2
import mediapipe as mp
import pickle
import socket
from dollarpy import Recognizer, Point

# Load gesture templates
with open("f:/Uni/4th year/Hci/project/interactive-learning-hci/python-sockets/gesture_templates.pkl", "rb") as f:
    templates = pickle.load(f)

recognizer = Recognizer(templates)
mp_holistic = mp.solutions.holistic
mp_drawing = mp.solutions.drawing_utils

# Function to convert landmarks to points for DollarPy
def landmarks_to_points(landmarks):
    return [Point(lm.x, lm.y) for lm in landmarks.landmark]

# Initialize video capture and holistic model
cap = cv2.VideoCapture(0)

with mp_holistic.Holistic(min_detection_confidence=0.7, min_tracking_confidence=0.5) as holistic:
    while cap.isOpened():
        ret, frame = cap.read()
        if not ret:
            break

        frame_rgb = cv2.cvtColor(cv2.flip(frame, 1), cv2.COLOR_BGR2RGB)
        results = holistic.process(frame_rgb)
        annotated_image = frame.copy()

        #best_gesture = None
        #best_score = 0
        

        if results.left_hand_landmarks or results.right_hand_landmarks:
            landmarks = results.left_hand_landmarks or results.right_hand_landmarks
            points = landmarks_to_points(landmarks)
            gesture_result = recognizer.recognize(points)
            if gesture_result:
                gesture_name, score = gesture_result
                print(gesture_result)
                if score>0.6:
                    print("WWWWWWWWWWWWWWWWWWWWW ",gesture_result)

        if gesture_result:
            # Send gesture to app.py through a socket connection
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
                try:
                    s.connect(('localhost', 12345))
                    s.sendall(f"GESTURE:{gesture_result}".encode('utf-8'))
                except Exception as e:
                    print("Error sending gesture data:", e,f"GESTURE:{gesture_result}".encode('utf-8'))

        cv2.imshow('Guestures cam', annotated_image)
        if cv2.waitKey(1) == ord('q'):
            break

cap.release()
cv2.destroyAllWindows()
"""
# import os
# import cv2
# import mediapipe as mp
# import socket
# # initialize Pose estimator
# mp_drawing = mp.solutions.drawing_utils
# mp_pose = mp.solutions.pose

# pose = mp_pose.Pose(
#     min_detection_confidence=0.5,
#     min_tracking_confidence=0.5)

# cap = cv2.VideoCapture(0)
# framecnt=0


from dollarpy import Recognizer, Template, Point
next = Template('next', [
Point(-80,324, 1),
Point(474,389, 1),
Point(-75,324, 1),
Point(488,375, 1),
Point(-75,323, 1),
Point(497,359, 1),
Point(-64,321, 1),
Point(490,364, 1),
Point(-65,321, 1),
Point(487,366, 1),
Point(-54,326, 1),
Point(484,368, 1),
Point(-41,327, 1),
Point(483,352, 1),
Point(-37,330, 1),
Point(473,367, 1),
Point(-41,331, 1),
Point(475,364, 1),
Point(-35,356, 1),
Point(476,380, 1),
Point(-18,364, 1),
Point(476,380, 1),
Point(-14,364, 1),
Point(475,380, 1),
Point(-10,365, 1),
Point(474,380, 1),
Point(-6,362, 1),
Point(468,380, 1),
Point(23,384, 1),
Point(466,384, 1),
Point(34,379, 1),
Point(463,386, 1),
Point(64,376, 1),
Point(462,385, 1),
Point(72,375, 1),
Point(463,385, 1),
Point(81,372, 1),
Point(463,387, 1),
Point(60,333, 1),
Point(463,389, 1),
Point(58,327, 1),
Point(463,392, 1),
Point(52,304, 1),
Point(464,394, 1),
Point(49,301, 1),
Point(479,393, 1),
Point(53,311, 1),
Point(478,393, 1),
Point(57,303, 1),
Point(478,393, 1),
Point(56,298, 1),
Point(470,395, 1),
Point(68,306, 1),
Point(470,395, 1),
Point(67,325, 1),
Point(470,396, 1),
Point(70,374, 1),
Point(480,392, 1),
Point(70,396, 1),
Point(489,393, 1),
Point(78,378, 1),
Point(474,388, 1),
Point(81,371, 1),
Point(464,384, 1),
Point(88,370, 1),
Point(465,377, 1),
Point(86,370, 1),
Point(464,378, 1),
Point(85,367, 1),
Point(465,378, 1),
Point(81,350, 1),
Point(477,373, 1),
Point(81,345, 1),
Point(482,372, 1),
Point(80,343, 1),
Point(483,373, 1),
Point(76,346, 1),
Point(486,374, 1),
Point(81,372, 1),
Point(485,374, 1),
Point(86,378, 1),
Point(485,375, 1),
Point(87,384, 1),
Point(484,376, 1),
Point(88,383, 1),
Point(484,377, 1),
Point(85,381, 1),
Point(487,374, 1),
Point(91,384, 1),
Point(487,375, 1),
Point(100,383, 1),
Point(481,375, 1),
Point(101,385, 1),
Point(471,377, 1),
Point(102,386, 1),
Point(465,380, 1),
Point(103,385, 1),
Point(466,384, 1),
Point(102,386, 1),
Point(467,389, 1),
Point(107,347, 1),
Point(466,389, 1),
Point(109,341, 1),
Point(467,389, 1),
Point(128,318, 1),
Point(397,372, 1),
Point(134,313, 1),
Point(393,368, 1),
Point(136,312, 1),
Point(374,362, 1),
Point(137,312, 1),
Point(373,358, 1),
Point(136,317, 1),
Point(409,364, 1),
Point(123,332, 1),
Point(440,371, 1),
Point(183,238, 1),
Point(413,375, 1),
Point(194,220, 1),
Point(366,354, 1),
Point(183,244, 1),
Point(262,253, 1),
Point(179,250, 1),
Point(312,295, 1),
Point(177,254, 1),
Point(333,298, 1),
Point(176,254, 1),
Point(377,329, 1),
Point(174,255, 1),
Point(359,324, 1),
Point(173,258, 1),
Point(288,295, 1),
Point(172,258, 1),
Point(316,351, 1),
Point(176,250, 1),
Point(387,392, 1),
Point(181,242, 1),
Point(385,378, 1),
Point(179,241, 1),
Point(360,373, 1),
Point(178,237, 1),
Point(360,370, 1),
Point(178,236, 1),
Point(356,366, 1),
Point(178,239, 1),
Point(364,370, 1),
Point(177,238, 1),
Point(364,369, 1),
Point(179,231, 1),
Point(313,310, 1),
Point(179,226, 1),
Point(320,323, 1),
Point(182,225, 1),
Point(306,300, 1),
Point(183,226, 1),
Point(341,333, 1),
Point(184,226, 1),
Point(364,363, 1),
Point(184,225, 1),
Point(269,282, 1),
Point(183,225, 1),
Point(285,301, 1),
Point(185,222, 1),
Point(249,266, 1),
Point(185,227, 1),
Point(341,305, 1),
Point(185,229, 1),
Point(379,338, 1),
Point(186,231, 1),
Point(398,358, 1),
Point(187,234, 1),
Point(412,377, 1),
Point(187,234, 1),
Point(418,385, 1),
Point(188,235, 1),
Point(399,383, 1),
Point(188,235, 1),
Point(381,351, 1),
Point(188,237, 1),
Point(372,341, 1),
Point(188,237, 1),
Point(311,289, 1),
Point(187,240, 1),
Point(265,273, 1),
Point(188,240, 1),
Point(259,273, 1),
Point(188,240, 1),
Point(259,273, 1),
Point(189,243, 1),
Point(266,273, 1),
Point(189,243, 1),
Point(276,277, 1),
Point(190,244, 1),
Point(280,278, 1),
Point(190,244, 1),
Point(281,277, 1),
Point(190,241, 1),
Point(327,309, 1),
Point(190,233, 1),
Point(327,310, 1),
Point(192,224, 1),
Point(300,287, 1),
Point(193,224, 1),
Point(331,319, 1),
Point(189,227, 1),
Point(308,270, 1),
Point(188,227, 1),
Point(273,243, 1),
Point(189,233, 1),
Point(277,251, 1),
Point(189,237, 1),
Point(277,256, 1),
Point(184,243, 1),
Point(280,258, 1),
Point(181,243, 1),
Point(348,330, 1),
Point(178,241, 1),
Point(342,324, 1),
Point(177,241, 1),
Point(309,264, 1),
Point(176,240, 1),
Point(287,250, 1),
Point(175,241, 1),
Point(283,251, 1),
Point(173,240, 1),
Point(400,377, 1),
Point(172,239, 1),
Point(414,383, 1),
Point(171,228, 1),
Point(427,403, 1),
Point(170,224, 1),
Point(404,384, 1),
Point(171,222, 1),
Point(406,381, 1),
Point(167,218, 1),
Point(419,369, 1),
Point(164,216, 1),
Point(421,364, 1),
Point(160,217, 1),
Point(413,372, 1),
Point(158,227, 1),
Point(450,382, 1),
Point(156,224, 1),
Point(434,377, 1),
Point(155,220, 1),
Point(434,373, 1),
Point(144,216, 1),
Point(448,384, 1),
Point(145,206, 1),
Point(438,363, 1),
Point(141,208, 1),
Point(456,383, 1),
Point(140,210, 1),
Point(464,387, 1),
Point(136,210, 1),
Point(464,387, 1),
Point(134,210, 1),
Point(464,386, 1),
Point(127,211, 1),
Point(476,395, 1),
Point(124,203, 1),
Point(478,397, 1),
Point(123,220, 1),
Point(473,398, 1),
Point(122,220, 1),
Point(472,398, 1),
Point(122,220, 1),
Point(470,396, 1),
Point(122,220, 1),
Point(470,395, 1),
Point(120,230, 1),
Point(460,394, 1),
Point(119,232, 1),
Point(460,394, 1),
Point(119,241, 1),
Point(459,398, 1),
Point(119,242, 1),
Point(444,397, 1),
Point(121,254, 1),
Point(428,395, 1),
Point(121,262, 1),
Point(430,395, 1),
Point(121,275, 1),
Point(445,392, 1),
Point(120,274, 1),
Point(436,384, 1),
Point(123,279, 1),
Point(441,386, 1),
Point(125,280, 1),
Point(431,386, 1),
Point(125,280, 1),
Point(419,386, 1),
Point(126,281, 1),
Point(426,388, 1),
Point(133,295, 1),
Point(425,390, 1),
Point(134,299, 1),
Point(419,389, 1),
Point(142,315, 1),
Point(420,371, 1),
Point(141,328, 1),
Point(443,372, 1),
Point(141,319, 1),
Point(276,315, 1),
Point(142,315, 1),
Point(329,326, 1),
Point(137,340, 1),
Point(390,366, 1),
Point(126,330, 1),
Point(393,378, 1),
Point(121,326, 1),
Point(395,384, 1),
Point(123,339, 1),
Point(409,389, 1),
Point(123,338, 1),
Point(411,388, 1),
Point(125,336, 1),
Point(412,388, 1),
Point(135,322, 1),
Point(400,382, 1),
Point(137,323, 1),
Point(400,378, 1),
Point(137,325, 1),
Point(404,377, 1),
Point(133,326, 1),
Point(405,375, 1),
Point(153,299, 1),
Point(262,306, 1),
Point(158,288, 1),
Point(250,298, 1),
Point(157,294, 1),
Point(251,293, 1),
Point(157,296, 1),
Point(256,291, 1),
Point(168,293, 1),
Point(264,299, 1),
Point(171,295, 1),
Point(264,302, 1),
Point(175,292, 1),
Point(273,300, 1),
Point(171,293, 1),
Point(273,301, 1),
Point(176,290, 1),
Point(276,293, 1),
Point(178,289, 1),
Point(276,289, 1),
Point(179,289, 1),
Point(277,287, 1),
Point(179,289, 1),
Point(278,286, 1),
Point(179,288, 1),
Point(280,285, 1),
Point(180,286, 1),
Point(283,285, 1),
Point(186,283, 1),
Point(314,312, 1),
Point(191,278, 1),
Point(308,283, 1),
Point(194,269, 1),
Point(302,276, 1),
Point(194,265, 1),
Point(297,278, 1),
Point(195,265, 1),
Point(371,350, 1),
Point(196,266, 1),
Point(374,356, 1),
Point(200,261, 1),
Point(369,333, 1),
Point(202,261, 1),
Point(366,321, 1),
Point(207,258, 1),
Point(352,324, 1),
Point(208,258, 1),
Point(346,323, 1),
Point(212,255, 1),
Point(320,282, 1),
Point(215,252, 1),
Point(312,269, 1),
Point(216,250, 1),
Point(310,258, 1),
Point(218,249, 1),
Point(304,258, 1),
Point(219,248, 1),
Point(302,262, 1),
Point(220,248, 1),
Point(301,258, 1),
Point(221,243, 1),
Point(335,289, 1),
Point(222,239, 1),
Point(331,285, 1),
Point(225,230, 1),
Point(330,282, 1),
Point(227,227, 1),
Point(336,283, 1),
Point(228,227, 1),
Point(302,256, 1),
Point(227,227, 1),
Point(299,249, 1),
Point(229,219, 1),
Point(289,234, 1),
Point(230,214, 1),
Point(378,326, 1),
Point(230,214, 1),
Point(381,332, 1),
Point(230,214, 1),
Point(375,319, 1),
Point(230,211, 1),
Point(390,342, 1),
Point(230,209, 1),
Point(385,331, 1),
Point(229,210, 1),
Point(329,245, 1),
Point(228,211, 1),
Point(345,261, 1),
Point(228,210, 1),
Point(375,262, 1),
Point(228,208, 1),
Point(371,267, 1),
Point(226,208, 1),
Point(383,321, 1),
Point(226,207, 1),
Point(393,338, 1),
Point(226,200, 1),
Point(416,376, 1),
Point(225,201, 1),
Point(417,372, 1),
Point(225,198, 1),
Point(426,399, 1),
Point(220,199, 1),
Point(418,389, 1),
Point(218,202, 1),
Point(412,374, 1),
Point(218,203, 1),
Point(406,350, 1),
Point(218,203, 1),
Point(402,346, 1),
Point(219,203, 1),
Point(407,348, 1),
Point(219,204, 1),
Point(411,368, 1),
Point(218,204, 1),
Point(412,367, 1),
Point(219,204, 1),
Point(411,366, 1),
Point(216,206, 1),
Point(413,381, 1),
Point(215,208, 1),
Point(412,384, 1),
Point(214,208, 1),
Point(406,372, 1),
Point(213,209, 1),
Point(403,351, 1),
Point(212,210, 1),
Point(403,352, 1),
Point(212,210, 1),
Point(399,340, 1),
Point(212,211, 1),
Point(405,393, 1),
Point(212,210, 1),
Point(392,326, 1),
Point(212,213, 1),
Point(412,410, 1),
Point(211,213, 1),
Point(426,395, 1),
Point(211,213, 1),
Point(430,389, 1),
Point(210,213, 1),
Point(433,391, 1),
Point(211,213, 1),
Point(439,404, 1),
Point(211,213, 1),
Point(438,402, 1),
Point(212,214, 1),
Point(440,400, 1),
Point(212,214, 1),
Point(441,398, 1),
Point(212,211, 1),
Point(440,369, 1),
Point(212,211, 1),
Point(409,346, 1),
Point(214,210, 1),
Point(400,314, 1),
Point(214,210, 1),
Point(398,314, 1),
Point(212,211, 1),
Point(425,407, 1),
Point(212,211, 1),
Point(407,356, 1),
Point(212,215, 1),
Point(412,400, 1),
Point(212,214, 1),
Point(421,413, 1),
Point(213,214, 1),
Point(421,394, 1),
Point(214,214, 1),
Point(422,395, 1),
Point(215,213, 1),
Point(422,398, 1),
Point(215,213, 1),
Point(422,380, 1),
Point(215,207, 1),
Point(427,378, 1),
Point(213,202, 1),
Point(416,356, 1),
Point(206,208, 1),
Point(416,412, 1),
Point(204,206, 1),
Point(416,408, 1),
Point(203,205, 1),
Point(416,406, 1),
Point(201,205, 1),
Point(403,389, 1),
Point(202,209, 1),
Point(428,439, 1),
Point(200,211, 1),
Point(451,441, 1),
Point(184,217, 1),
Point(446,489, 1),
Point(174,219, 1),
Point(424,499, 1),
Point(159,209, 1),
Point(444,486, 1),
Point(155,207, 1),
Point(441,472, 1),
Point(138,199, 1),
Point(475,425, 1),
Point(121,200, 1),
Point(477,425, 1),
Point(120,202, 1),
Point(478,424, 1),
Point(119,202, 1),
Point(475,419, 1),
Point(75,187, 1),
Point(483,404, 1),
Point(81,170, 1),
Point(496,383, 1),
Point(44,196, 1),
Point(488,391, 1),
Point(23,223, 1),
Point(488,392, 1),
Point(16,230, 1),
Point(486,389, 1),
Point(11,235, 1),
Point(485,390, 1),
Point(-16,322, 1),
Point(491,386, 1),
Point(-18,342, 1),
Point(497,361, 1),
Point(-26,334, 1),
Point(494,363, 1),
Point(-26,346, 1),
Point(493,367, 1),
Point(-56,326, 1),
Point(492,371, 1),
Point(-55,318, 1),
Point(491,380, 1),
Point(-72,321, 1),
Point(491,379, 1),
Point(-72,322, 1),
Point(490,379, 1),
Point(-66,325, 1),
Point(489,380, 1),
Point(-74,323, 1),
Point(491,380, 1),
Point(-79,326, 1),
Point(492,378, 1),
Point(-82,325, 1),
Point(497,365, 1),
Point(-90,326, 1),
Point(498,361, 1),
Point(-87,329, 1),
Point(496,363, 1),
Point(-96,322, 1),
Point(496,360, 1),
Point(-92,323, 1),
Point(501,363, 1),
Point(-89,323, 1),
Point(501,369, 1),
Point(-88,323, 1),
Point(500,370, 1),
Point(-84,323, 1),
Point(496,371, 1),
Point(-80,324, 1),
Point(492,372, 1),
Point(-79,324, 1),
Point(485,378, 1),
Point(-77,324, 1),
Point(481,382, 1),
Point(-67,323, 1),
Point(481,384, 1),
Point(-64,324, 1),
Point(481,387, 1),
Point(-65,321, 1),
Point(482,391, 1),
Point(-65,322, 1),
Point(482,396, 1),
Point(-65,329, 1),
Point(484,394, 1),
Point(-69,333, 1),
Point(484,398, 1),
Point(-75,333, 1),
Point(484,402, 1),
Point(-75,337, 1),
Point(485,402, 1),
Point(-75,336, 1),
Point(485,401, 1),
Point(-79,337, 1),
Point(486,405, 1),
Point(-80,343, 1),
Point(488,411, 1),
Point(-80,347, 1),
Point(491,410, 1),
Point(-77,351, 1),
Point(495,407, 1),
Point(-77,350, 1),
Point(502,403, 1),
Point(-79,341, 1),
Point(502,403, 1),
Point(-79,336, 1),
Point(501,406, 1),
Point(-81,331, 1),
Point(501,405, 1),
Point(-79,311, 1),
Point(500,402, 1),
Point(-76,309, 1),
Point(500,398, 1),
Point(-74,312, 1),
Point(500,392, 1),
Point(-73,313, 1),
Point(488,393, 1),
Point(-63,336, 1),
Point(488,393, 1),
Point(-63,342, 1),
Point(486,394, 1),
Point(-64,343, 1),
Point(486,396, 1),
Point(-64,344, 1),
Point(487,404, 1),
Point(-65,343, 1),
Point(487,404, 1),
Point(-64,344, 1),
Point(487,404, 1),
Point(-65,344, 1),
Point(487,406, 1),
Point(-65,344, 1),
Point(487,407, 1),
Point(-65,344, 1),
Point(487,412, 1),
Point(-70,324, 1),
Point(487,405, 1),
Point(-75,329, 1),
Point(489,411, 1),
Point(-78,331, 1),
Point(489,411, 1),
Point(-84,331, 1),
Point(492,412, 1),
Point(-87,332, 1),
Point(494,412, 1),
Point(-86,335, 1),
Point(495,412, 1),
])
previous = Template('previous', [
Point(-84,349, 1),
Point(414,384, 1),
Point(-82,358, 1),
Point(412,383, 1),
Point(-81,360, 1),
Point(426,378, 1),
Point(-91,359, 1),
Point(421,382, 1),
Point(-90,361, 1),
Point(413,383, 1),
Point(-89,360, 1),
Point(414,383, 1),
Point(-89,362, 1),
Point(419,383, 1),
Point(-89,363, 1),
Point(422,383, 1),
Point(-89,362, 1),
Point(424,382, 1),
Point(-89,363, 1),
Point(434,378, 1),
Point(-88,363, 1),
Point(433,379, 1),
Point(-87,363, 1),
Point(428,379, 1),
Point(-84,363, 1),
Point(420,378, 1),
Point(-83,363, 1),
Point(419,378, 1),
Point(-82,363, 1),
Point(420,378, 1),
Point(-82,365, 1),
Point(421,378, 1),
Point(-81,365, 1),
Point(422,378, 1),
Point(-90,362, 1),
Point(421,377, 1),
Point(-90,365, 1),
Point(421,380, 1),
Point(-90,365, 1),
Point(422,384, 1),
Point(-89,366, 1),
Point(426,385, 1),
Point(-90,362, 1),
Point(432,383, 1),
Point(-90,363, 1),
Point(432,383, 1),
Point(-86,362, 1),
Point(439,380, 1),
Point(-86,355, 1),
Point(447,371, 1),
Point(-63,337, 1),
Point(435,369, 1),
Point(-54,336, 1),
Point(422,357, 1),
Point(-24,370, 1),
Point(419,360, 1),
Point(-14,385, 1),
Point(418,371, 1),
Point(16,411, 1),
Point(417,379, 1),
Point(11,408, 1),
Point(414,385, 1),
Point(6,411, 1),
Point(428,393, 1),
Point(9,416, 1),
Point(428,395, 1),
Point(22,419, 1),
Point(414,393, 1),
Point(18,418, 1),
Point(413,393, 1),
Point(47,414, 1),
Point(413,395, 1),
Point(65,413, 1),
Point(406,395, 1),
Point(58,412, 1),
Point(411,398, 1),
Point(60,411, 1),
Point(412,403, 1),
Point(58,417, 1),
Point(412,402, 1),
Point(52,422, 1),
Point(420,407, 1),
Point(48,422, 1),
Point(421,414, 1),
Point(47,422, 1),
Point(421,413, 1),
Point(47,421, 1),
Point(422,415, 1),
Point(47,421, 1),
Point(419,421, 1),
Point(52,420, 1),
Point(424,419, 1),
Point(52,420, 1),
Point(424,419, 1),
Point(51,420, 1),
Point(422,418, 1),
Point(49,411, 1),
Point(421,419, 1),
Point(46,404, 1),
Point(431,430, 1),
Point(46,405, 1),
Point(435,429, 1),
Point(44,405, 1),
Point(437,427, 1),
Point(44,406, 1),
Point(436,426, 1),
Point(43,407, 1),
Point(431,428, 1),
Point(42,408, 1),
Point(431,426, 1),
Point(42,407, 1),
Point(433,418, 1),
Point(42,406, 1),
Point(440,411, 1),
Point(42,406, 1),
Point(451,410, 1),
Point(42,404, 1),
Point(456,401, 1),
Point(39,402, 1),
Point(447,416, 1),
Point(39,401, 1),
Point(441,418, 1),
Point(39,402, 1),
Point(428,421, 1),
Point(38,399, 1),
Point(428,421, 1),
Point(36,401, 1),
Point(428,421, 1),
Point(36,401, 1),
Point(427,411, 1),
Point(36,404, 1),
Point(427,411, 1),
Point(37,404, 1),
Point(423,410, 1),
Point(37,404, 1),
Point(423,410, 1),
Point(36,406, 1),
Point(423,411, 1),
Point(36,406, 1),
Point(423,415, 1),
Point(37,407, 1),
Point(424,415, 1),
Point(37,409, 1),
Point(427,414, 1),
Point(38,410, 1),
Point(432,414, 1),
Point(38,410, 1),
Point(439,404, 1),
Point(38,408, 1),
Point(438,403, 1),
Point(119,311, 1),
Point(260,301, 1),
Point(126,301, 1),
Point(243,290, 1),
Point(137,280, 1),
Point(243,286, 1),
Point(144,281, 1),
Point(238,291, 1),
Point(149,280, 1),
Point(239,265, 1),
Point(170,228, 1),
Point(233,271, 1),
Point(164,240, 1),
Point(253,275, 1),
Point(163,240, 1),
Point(256,274, 1),
Point(161,243, 1),
Point(251,264, 1),
Point(161,244, 1),
Point(249,252, 1),
Point(169,231, 1),
Point(266,252, 1),
Point(173,222, 1),
Point(300,271, 1),
Point(173,223, 1),
Point(302,279, 1),
Point(171,211, 1),
Point(299,273, 1),
Point(171,209, 1),
Point(297,269, 1),
Point(175,206, 1),
Point(280,246, 1),
Point(174,213, 1),
Point(291,252, 1),
Point(181,210, 1),
Point(289,251, 1),
Point(181,214, 1),
Point(295,250, 1),
Point(181,215, 1),
Point(298,252, 1),
Point(181,216, 1),
Point(320,289, 1),
Point(183,217, 1),
Point(305,265, 1),
Point(184,217, 1),
Point(292,254, 1),
Point(187,216, 1),
Point(274,241, 1),
Point(188,216, 1),
Point(268,234, 1),
Point(188,216, 1),
Point(269,233, 1),
Point(189,215, 1),
Point(271,230, 1),
Point(190,216, 1),
Point(273,234, 1),
Point(190,216, 1),
Point(267,235, 1),
Point(190,217, 1),
Point(264,236, 1),
Point(191,218, 1),
Point(263,237, 1),
Point(191,218, 1),
Point(263,237, 1),
Point(190,218, 1),
Point(263,236, 1),
Point(190,218, 1),
Point(263,236, 1),
Point(190,218, 1),
Point(264,236, 1),
Point(190,218, 1),
Point(264,236, 1),
Point(190,218, 1),
Point(263,236, 1),
Point(190,218, 1),
Point(277,236, 1),
Point(190,218, 1),
Point(272,236, 1),
Point(190,218, 1),
Point(277,236, 1),
Point(190,219, 1),
Point(274,235, 1),
Point(189,217, 1),
Point(274,234, 1),
Point(186,217, 1),
Point(274,234, 1),
Point(184,215, 1),
Point(291,259, 1),
Point(181,215, 1),
Point(289,256, 1),
Point(180,217, 1),
Point(288,255, 1),
Point(180,217, 1),
Point(286,248, 1),
Point(180,219, 1),
Point(347,361, 1),
Point(176,216, 1),
Point(310,307, 1),
Point(169,215, 1),
Point(303,292, 1),
Point(168,216, 1),
Point(369,430, 1),
Point(155,213, 1),
Point(370,435, 1),
Point(152,211, 1),
Point(368,431, 1),
Point(144,211, 1),
Point(353,407, 1),
Point(141,211, 1),
Point(347,402, 1),
Point(130,206, 1),
Point(336,349, 1),
Point(129,203, 1),
Point(353,351, 1),
Point(132,203, 1),
Point(358,397, 1),
Point(133,200, 1),
Point(367,396, 1),
Point(128,201, 1),
Point(385,408, 1),
Point(125,202, 1),
Point(326,325, 1),
Point(124,202, 1),
Point(377,337, 1),
Point(118,203, 1),
Point(382,372, 1),
Point(110,207, 1),
Point(397,403, 1),
Point(109,211, 1),
Point(394,415, 1),
Point(107,213, 1),
Point(403,424, 1),
Point(106,214, 1),
Point(399,420, 1),
Point(102,216, 1),
Point(407,424, 1),
Point(102,218, 1),
Point(414,428, 1),
Point(96,212, 1),
Point(408,394, 1),
Point(95,212, 1),
Point(416,408, 1),
Point(90,215, 1),
Point(412,416, 1),
Point(87,215, 1),
Point(411,412, 1),
Point(83,215, 1),
Point(392,395, 1),
Point(83,215, 1),
Point(402,406, 1),
Point(77,214, 1),
Point(400,416, 1),
Point(78,214, 1),
Point(400,427, 1),
Point(77,211, 1),
Point(385,415, 1),
Point(78,211, 1),
Point(398,438, 1),
Point(77,209, 1),
Point(404,435, 1),
Point(75,208, 1),
Point(420,432, 1),
Point(71,207, 1),
Point(422,431, 1),
Point(68,207, 1),
Point(424,436, 1),
Point(68,210, 1),
Point(421,440, 1),
Point(70,212, 1),
Point(420,439, 1),
Point(74,213, 1),
Point(421,438, 1),
Point(76,215, 1),
Point(424,438, 1),
Point(77,216, 1),
Point(426,438, 1),
Point(77,212, 1),
Point(431,437, 1),
Point(77,214, 1),
Point(433,437, 1),
Point(77,215, 1),
Point(436,437, 1),
Point(79,219, 1),
Point(435,428, 1),
Point(80,221, 1),
Point(435,424, 1),
Point(80,223, 1),
Point(434,420, 1),
Point(81,224, 1),
Point(435,421, 1),
Point(81,224, 1),
Point(433,416, 1),
Point(81,216, 1),
Point(430,409, 1),
Point(81,225, 1),
Point(415,410, 1),
Point(81,236, 1),
Point(415,414, 1),
Point(82,235, 1),
Point(416,413, 1),
Point(83,234, 1),
Point(407,407, 1),
Point(83,237, 1),
Point(393,405, 1),
Point(83,239, 1),
Point(389,398, 1),
Point(84,236, 1),
Point(383,399, 1),
Point(84,234, 1),
Point(386,401, 1),
Point(84,234, 1),
Point(388,402, 1),
Point(84,233, 1),
Point(390,402, 1),
Point(90,263, 1),
Point(369,398, 1),
Point(93,269, 1),
Point(330,362, 1),
Point(96,292, 1),
Point(344,371, 1),
Point(97,301, 1),
Point(353,373, 1),
Point(97,304, 1),
Point(353,375, 1),
Point(97,307, 1),
Point(360,385, 1),
Point(97,307, 1),
Point(376,397, 1),
Point(96,311, 1),
Point(381,401, 1),
Point(94,309, 1),
Point(384,401, 1),
Point(94,305, 1),
Point(384,400, 1),
Point(94,302, 1),
Point(382,405, 1),
Point(95,302, 1),
Point(359,404, 1),
Point(95,301, 1),
Point(368,404, 1),
Point(96,301, 1),
Point(377,404, 1),
Point(96,303, 1),
Point(371,399, 1),
Point(98,304, 1),
Point(349,391, 1),
Point(98,303, 1),
Point(344,389, 1),
Point(98,303, 1),
Point(346,390, 1),
Point(99,304, 1),
Point(343,386, 1),
Point(99,304, 1),
Point(329,371, 1),
Point(99,304, 1),
Point(315,370, 1),
Point(99,302, 1),
Point(311,370, 1),
Point(99,299, 1),
Point(319,372, 1),
Point(94,307, 1),
Point(352,397, 1),
Point(85,309, 1),
Point(365,404, 1),
Point(85,310, 1),
Point(380,411, 1),
Point(86,310, 1),
Point(380,410, 1),
Point(83,311, 1),
Point(376,409, 1),
Point(82,312, 1),
Point(363,398, 1),
Point(83,309, 1),
Point(352,382, 1),
Point(84,303, 1),
Point(306,360, 1),
Point(95,300, 1),
Point(309,360, 1),
Point(99,297, 1),
Point(333,366, 1),
Point(102,296, 1),
Point(342,368, 1),
Point(102,295, 1),
Point(342,370, 1),
Point(105,296, 1),
Point(340,371, 1),
Point(110,296, 1),
Point(336,372, 1),
Point(111,294, 1),
Point(282,348, 1),
Point(112,294, 1),
Point(296,354, 1),
Point(115,295, 1),
Point(234,316, 1),
Point(122,295, 1),
Point(265,331, 1),
Point(127,295, 1),
Point(226,308, 1),
Point(130,296, 1),
Point(221,304, 1),
Point(128,297, 1),
Point(223,296, 1),
Point(127,297, 1),
Point(224,294, 1),
Point(127,296, 1),
Point(231,299, 1),
Point(128,296, 1),
Point(233,297, 1),
Point(148,287, 1),
Point(235,289, 1),
Point(146,283, 1),
Point(237,292, 1),
Point(144,282, 1),
Point(237,292, 1),
Point(146,281, 1),
Point(236,293, 1),
Point(146,281, 1),
Point(235,294, 1),
Point(148,281, 1),
Point(231,294, 1),
Point(172,268, 1),
Point(232,284, 1),
Point(176,263, 1),
Point(233,282, 1),
Point(182,260, 1),
Point(234,280, 1),
Point(185,260, 1),
Point(234,274, 1),
Point(186,259, 1),
Point(240,276, 1),
Point(186,259, 1),
Point(243,277, 1),
Point(189,259, 1),
Point(247,277, 1),
Point(190,260, 1),
Point(251,278, 1),
Point(192,259, 1),
Point(260,278, 1),
Point(191,259, 1),
Point(263,278, 1),
Point(191,260, 1),
Point(264,278, 1),
Point(190,260, 1),
Point(264,278, 1),
Point(190,260, 1),
Point(264,278, 1),
Point(190,260, 1),
Point(264,279, 1),
Point(192,259, 1),
Point(268,277, 1),
Point(194,258, 1),
Point(270,275, 1),
Point(194,258, 1),
Point(273,274, 1),
Point(194,258, 1),
Point(272,274, 1),
Point(194,258, 1),
Point(272,275, 1),
Point(194,258, 1),
Point(275,275, 1),
Point(194,259, 1),
Point(276,277, 1),
Point(194,259, 1),
Point(276,277, 1),
Point(193,259, 1),
Point(276,274, 1),
Point(193,259, 1),
Point(276,274, 1),
Point(193,259, 1),
Point(276,274, 1),
Point(193,259, 1),
Point(276,273, 1),
Point(193,259, 1),
Point(276,273, 1),
Point(193,259, 1),
Point(275,273, 1),
Point(193,260, 1),
Point(275,273, 1),
Point(193,260, 1),
Point(275,273, 1),
Point(193,257, 1),
Point(275,272, 1),
Point(193,256, 1),
Point(275,271, 1),
Point(193,254, 1),
Point(276,262, 1),
Point(193,254, 1),
Point(278,251, 1),
Point(193,253, 1),
Point(278,248, 1),
Point(193,251, 1),
Point(278,246, 1),
Point(195,246, 1),
Point(274,243, 1),
Point(196,244, 1),
Point(273,243, 1),
Point(197,236, 1),
Point(275,225, 1),
Point(198,232, 1),
Point(277,219, 1),
Point(199,229, 1),
Point(287,221, 1),
Point(201,224, 1),
Point(283,214, 1),
Point(202,213, 1),
Point(291,218, 1),
Point(202,211, 1),
Point(297,237, 1),
Point(203,211, 1),
Point(301,249, 1),
Point(203,211, 1),
Point(300,254, 1),
Point(200,209, 1),
Point(316,278, 1),
Point(192,206, 1),
Point(313,275, 1),
Point(193,195, 1),
Point(310,223, 1),
Point(195,188, 1),
Point(309,224, 1),
Point(195,185, 1),
Point(307,212, 1),
Point(197,184, 1),
Point(344,251, 1),
Point(198,184, 1),
Point(346,250, 1),
Point(199,181, 1),
Point(282,219, 1),
Point(198,183, 1),
Point(325,310, 1),
Point(198,184, 1),
Point(329,286, 1),
Point(198,185, 1),
Point(322,277, 1),
Point(198,185, 1),
Point(323,273, 1),
Point(198,185, 1),
Point(351,341, 1),
Point(202,179, 1),
Point(349,328, 1),
Point(203,179, 1),
Point(268,244, 1),
Point(204,177, 1),
Point(256,224, 1),
Point(204,177, 1),
Point(254,217, 1),
Point(204,176, 1),
Point(263,221, 1),
Point(203,177, 1),
Point(343,367, 1),
Point(203,177, 1),
Point(360,350, 1),
Point(203,177, 1),
Point(347,340, 1),
Point(202,179, 1),
Point(344,290, 1),
Point(202,179, 1),
Point(359,320, 1),
Point(202,179, 1),
Point(383,345, 1),
Point(203,179, 1),
Point(382,352, 1),
Point(202,177, 1),
Point(314,229, 1),
Point(202,179, 1),
Point(351,316, 1),
Point(197,183, 1),
Point(385,391, 1),
Point(197,182, 1),
Point(330,280, 1),
Point(195,179, 1),
Point(322,257, 1),
Point(190,179, 1),
Point(317,217, 1),
Point(185,172, 1),
Point(316,244, 1),
Point(186,167, 1),
Point(322,329, 1),
Point(182,179, 1),
Point(358,403, 1),
Point(179,187, 1),
Point(376,446, 1),
Point(177,191, 1),
Point(375,453, 1),
Point(178,191, 1),
Point(379,415, 1),
Point(175,190, 1),
Point(400,486, 1),
Point(174,190, 1),
Point(419,496, 1),
Point(162,190, 1),
Point(416,498, 1),
Point(156,190, 1),
Point(417,497, 1),
Point(143,179, 1),
Point(418,481, 1),
Point(139,179, 1),
Point(415,474, 1),
Point(137,177, 1),
Point(431,466, 1),
Point(136,176, 1),
Point(429,462, 1),
Point(135,176, 1),
Point(437,460, 1),
Point(134,177, 1),
Point(444,459, 1),
Point(30,206, 1),
Point(451,410, 1),
Point(21,227, 1),
Point(455,398, 1),
Point(22,325, 1),
Point(449,397, 1),
Point(28,360, 1),
Point(447,398, 1),
Point(6,383, 1),
Point(430,400, 1),
Point(5,393, 1),
Point(441,396, 1),
Point(-11,382, 1),
Point(441,398, 1),
Point(-22,378, 1),
Point(443,397, 1),
Point(-41,359, 1),
Point(443,396, 1),
Point(-54,350, 1),
Point(437,397, 1),
Point(-73,349, 1),
Point(438,398, 1),
Point(-75,354, 1),
Point(443,398, 1),
Point(-82,355, 1),
Point(444,399, 1),
Point(-80,352, 1),
Point(454,395, 1),
Point(-78,356, 1),
Point(443,405, 1),
Point(-71,355, 1),
Point(443,404, 1),
Point(-67,355, 1),
Point(430,396, 1),
Point(-70,356, 1),
Point(435,387, 1),
Point(-86,349, 1),
Point(438,386, 1),
Point(-82,348, 1),
Point(437,387, 1),
Point(-84,349, 1),
Point(437,386, 1),
Point(-95,349, 1),
Point(437,388, 1),
Point(-102,349, 1),
Point(441,406, 1),
Point(-98,352, 1),
Point(450,401, 1),
Point(-98,359, 1),
Point(460,394, 1),
Point(-96,361, 1),
Point(468,392, 1),
Point(-96,360, 1),
Point(479,389, 1),
Point(-95,367, 1),
Point(482,385, 1),
Point(-99,366, 1),
Point(488,382, 1),
Point(-101,365, 1),
Point(487,378, 1),
Point(-103,359, 1),
Point(487,376, 1),
Point(-105,354, 1),
Point(490,375, 1),
Point(-104,356, 1),
Point(490,375, 1),
Point(-104,358, 1),
Point(490,374, 1),
Point(-103,362, 1),
Point(490,374, 1),
Point(-104,364, 1),
Point(492,374, 1),
Point(-106,355, 1),
Point(491,375, 1),
Point(-106,351, 1),
Point(490,377, 1),
Point(-106,348, 1),
Point(487,381, 1),
Point(-106,344, 1),
Point(484,383, 1),
Point(-107,345, 1),
Point(484,382, 1),
Point(-107,345, 1),
Point(480,382, 1),
Point(-96,359, 1),
Point(473,382, 1),
Point(-95,360, 1),
Point(472,378, 1),
Point(-96,363, 1),
Point(458,385, 1),
Point(-96,362, 1),
Point(443,391, 1),
Point(-96,363, 1),
Point(439,398, 1),
Point(-97,366, 1),
Point(442,399, 1),
Point(-97,367, 1),
Point(442,399, 1),
Point(-96,368, 1),
Point(443,398, 1),
Point(-95,368, 1),
Point(445,399, 1),
Point(-94,365, 1),
Point(443,400, 1),
Point(-94,359, 1),
Point(439,402, 1),
Point(-94,355, 1),
Point(438,403, 1),
])
recognizer = Recognizer([next,previous])











# while cap.isOpened():
#     # read frame from capture object
#     ret, frame = cap.read()
#     if not ret:
#         print("Can't receive frame (stream end?). Exiting ...")
#         break
#     frame = cv2.resize(frame, (480, 320))
#     framecnt+=1
#     try:
#         # convert the frame to RGB format
#         RGB = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)
#         #print (framecnt)
#         # process the RGB frame to get the result
#         results = pose.process(RGB)
#             # Loop through the detected poses to visualize.
#         #for idx, landmark in enumerate(results.pose_landmarks.landmark):
#             #print(f"{mp_pose.PoseLandmark(idx).name}: (x: {landmark.x}, y: {landmark.y}, z: {landmark.z})")
        
#             # Print nose landmark.
#         image_hight, image_width, _ = frame.shape
#         x=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.RIGHT_WRIST].x * image_width))
#         y=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.RIGHT_WRIST].y * image_hight))
        
#         Allpoints.append(Point(x,y,1))
#         x=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.LEFT_WRIST].x * image_width))
#         y=(int(results.pose_landmarks.landmark[mp_pose.PoseLandmark.LEFT_WRIST].y * image_hight))
        
#         Allpoints.append(Point(x,y,1))

#         if framecnt%30==0:
#               framecnt=0
#               #print (Allpoints)
#               result = recognizer.recognize(Allpoints)
#               gesture_name, score = result
#               print (result)
#               Allpoints.clear()  
        
#         mp_drawing.draw_landmarks(frame, results.pose_landmarks, mp_pose.POSE_CONNECTIONS)
#         # show the final output
#         cv2.imshow('Output', frame)
#         if score>0.3:
#             # Send gesture to app.py through a socket connection
#             with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
#                 try:
#                     s.connect(('localhost', 12345))
#                     s.sendall(f"GESTURE:{result}".encode('utf-8'))
#                 except Exception as e:
#                     print("Error sending gesture data:", e,f"GESTURE:{result}".encode('utf-8'))
        
#     except:
#             #break
#             print ('Camera Error')
#     if cv2.waitKey(1) == ord('q'):
#             break

# cap.release()
# cv2.destroyAllWindows()

